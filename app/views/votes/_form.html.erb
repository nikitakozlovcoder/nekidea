<!--<%= form_with(model: vote, local: true) do |form| %>
  <% if vote.errors.any? %>
    <div id="error_explanation">


      <ul>
        <% vote.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :user_id %>
    <%= form.number_field :user_id %>
  </div>

  <div class="field">
    <%= form.label :vote_type %>
    <%= form.number_field :vote_type %>
  </div>

  <div class="field">
    <%= form.label :vote_status %>
    <%= form.number_field :vote_status %>
  </div>

  <div class="field">
    <%= form.label :body %>
    <%= form.text_area :body %>
  </div>

  <div class="field">
    <%= form.label :title %>
    <%= form.text_field :title %>
  </div>

  <div class="field">
    <%= form.label :active_to %>
    <%= form.text_field :active_to %>
  </div>

  <div class="field">
    <%= form.label :iter_array %>
    <%= form.text_area :iter_array %>
  </div>

  <div class="field">
    <%= form.label :current_iter %>
    <%= form.number_field :current_iter %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
-->

<%= form_with(model: vote, local: true, html: {class: "nice outline"}, multipart: true) do |form| %>
  <%= form.hidden_field :iter_array, placeholder: " " %>

  <% if vote.errors.any? %>
    <div id="error_explanation">


      <ul>
        <% vote.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class = "form-group">
    <label for="vote_name" class="inp">
      <%= form.text_field :title, id: "vote_name", placeholder: " " %>
      <span class="label">Название голосования</span>
      <span class="focus-bg"></span>
    </label>
  </div>
  <div class = "form-group">
    <label for="vote_description" class="inp textarea">
      <%= form.text_area :body, id: "vote_description", placeholder: " " %>
      <span class="label">Описание</span>
    </label>
  </div>
  <div class = "form-group wrapper">
    <div class ="images_label">
      <label for="images" class="btn-simple">Загрузить изображения</label>
    </div>
    <input id = "images" class = "fullhidden" type = "file" accept = "image/*" multiple name="pictures[]">
    <input class = "fullhidden" name="pictures_changed" type="text" value="No">
    <div class="img-wrapper">
      <% @vote.pictures.each do |pict| %>
        <%= image_tag pict %>
      <% end %>
    </div>
  </div>
  <div class = "form-group">
    <p class = "title">Выберите тип голосования</p>
    <div>
      <select name = "vote[vote_type]">
        <option value="1">Одноэтапное</option>
        <option value="2">Многоэтапное</option>
      </select>
    </div>
  </div>

  <div class = "form-group">
    <p class = "title">Количество этапов</p>
    <div data-id = "iter">
      <select>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="other">
          Другое количество
        </option>
      </select>
    </div>
    <div data-id = "iter_additional" class = "fullhidden" style="max-width: 200px">
      <label for="vote_name" class="inp">
        <input type="number" id="vote_name" placeholder="&nbsp;">
        <span class="label">Число этапов</span>
        <span class="focus-bg"></span>
      </label>
    </div>

  </div>
  <div class="form-group">
      <button type="submit" class="btn btn-primary">Отправить</button>
  </div>
<% end %>
